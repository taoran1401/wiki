## 服务器

> 都使用ssh登录

> 设置指定用户只能操作指定目录权限

> 通过检测工具检测可疑脚本和漏洞

> nginx限制目录下的脚本执行，比如upload这类上传目录不应该php,py等脚本文件，这类后缀的文件应该禁止访问

> 禁止或变更常用端口

> 限制ip连接

## 数据库

> 限制ip连接

> 设置用户权限(只读账号，数据读写账号，ddl/dml账号等分别管理)

> 禁止或变更常用端口

## redis

> 设置密码，不对外开放端口

> 禁止或变更常用端口

## php

> 禁用执行脚本的函数和一些泄漏重要信息等危险函数(如phpinfo,eval,system等)

> 后台如果有代码管理和高权限文件管理的功能应当关闭(如crmeb后台的文件和代码管理功能)

> 注意tp6的session漏洞，如果没有必要应该禁止这个功能

> 上传文件限制文件类型

> 常规攻击防护(如xss, sql注入)

> 借助工具检查代码问题

## aliyun

> 每次登录都需要验证码

> 创建子账号分配指定权限(比如创建子账户只能操作oss)

> accesskey如果在程序后台管理时应该加密

